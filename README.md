Work in progress NixOS configuration

I don't know anything about NixOS yet, so this is going to be changed a lot.

